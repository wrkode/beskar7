---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.17.3
  name: beskar7machinetemplates.infrastructure.cluster.x-k8s.io
spec:
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: Beskar7MachineTemplate
    listKind: Beskar7MachineTemplateList
    plural: beskar7machinetemplates
    shortNames:
    - b7mt
    singular: beskar7machinetemplate
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Beskar7MachineTemplate is the Schema for the beskar7machinetemplates
          API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: Beskar7MachineTemplateSpec defines the desired state of Beskar7MachineTemplate
            properties:
              template:
                description: Beskar7MachineTemplateResource describes the data needed
                  to create a Beskar7Machine from a template
                properties:
                  spec:
                    description: Spec is the specification of the desired behavior
                      of the machine.
                    properties:
                      configURL:
                        description: |-
                          ConfigURL is the URL from which the OS should fetch its configuration file.
                          Required if ProvisioningMode is "RemoteConfig".
                        type: string
                      imageURL:
                        description: |-
                          ImageURL specifies the URL of the boot ISO image.
                          This can be a generic installer ISO (for remote config) or a pre-baked ISO.
                        type: string
                      osFamily:
                        description: |-
                          OSFamily specifies the target operating system family for this machine.
                          This determines how provisioning is handled (e.g., kernel parameters for config).
                          Examples: "kairos", "talos", "flatcar", "microos".
                        enum:
                        - kairos
                        - talos
                        - flatcar
                        - microos
                        type: string
                      providerID:
                        description: ProviderID is the unique identifier for the instance
                          assigned by the provider.
                        type: string
                      provisioningMode:
                        description: |-
                          ProvisioningMode specifies how the OS should be provisioned.
                          "RemoteConfig": The OS will fetch its configuration from ConfigURL.
                          "PreBakedISO": The ImageURL points to an ISO that already has the configuration embedded.
                          If omitted and ConfigURL is provided, "RemoteConfig" is assumed.
                          If omitted and ConfigURL is not provided, "PreBakedISO" is assumed (though an image without config might not be useful).
                        enum:
                        - RemoteConfig
                        - PreBakedISO
                        type: string
                    required:
                    - imageURL
                    - osFamily
                    type: object
                required:
                - spec
                type: object
            required:
            - template
            type: object
        type: object
    served: true
    storage: true
