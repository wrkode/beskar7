apiVersion: v1
items:
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      cluster.x-k8s.io/contract: v1beta1
      controller-gen.kubebuilder.io/version: v0.18.0
    labels:
      cluster.x-k8s.io/contract: v1beta1
      cluster.x-k8s.io/provider: beskar7
    name: beskar7clusters.infrastructure.cluster.x-k8s.io
  spec:
    conversion:
      strategy: Webhook
      webhook:
        clientConfig:
          service:
            name: beskar7-webhook-service
            namespace: beskar7-system
            path: /convert
        conversionReviewVersions:
        - v1
    group: infrastructure.cluster.x-k8s.io
    names:
      categories:
      - cluster-api
      kind: Beskar7Cluster
      listKind: Beskar7ClusterList
      plural: beskar7clusters
      shortNames:
      - b7c
      singular: beskar7cluster
    scope: Namespaced
    versions:
    - name: v1beta1
      served: true
      storage: true
      schema:
        openAPIV3Schema:
          type: object
          properties:
            apiVersion:
              type: string
            kind:
              type: string
            metadata:
              type: object
            spec:
              type: object
              properties:
                controlPlaneEndpoint:
                  type: object
                  properties:
                    host:
                      type: string
                    port:
                      type: integer
                      format: int32
            status:
              type: object
              properties:
                ready:
                  type: boolean
                controlPlaneEndpoint:
                  type: object
                  properties:
                    host:
                      type: string
                    port:
                      type: integer
                      format: int32
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - cluster-api
      kind: Beskar7Cluster
      listKind: Beskar7ClusterList
      plural: beskar7clusters
      shortNames:
      - b7c
      singular: beskar7cluster
    conditions:
    - lastTransitionTime: "2025-05-27T14:11:10Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2025-05-27T14:11:10Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1beta1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      cluster.x-k8s.io/contract: v1beta1
      controller-gen.kubebuilder.io/version: v0.18.0
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apiextensions.k8s.io/v1","kind":"CustomResourceDefinition","metadata":{"annotations":{"controller-gen.kubebuilder.io/version":"v0.18.0"},"name":"beskar7machines.infrastructure.cluster.x-k8s.io"},"spec":{"group":"infrastructure.cluster.x-k8s.io","names":{"kind":"Beskar7Machine","listKind":"Beskar7MachineList","plural":"beskar7machines","singular":"beskar7machine"},"scope":"Namespaced","versions":[{"additionalPrinterColumns":[{"description":"Cluster to which this Beskar7Machine belongs","jsonPath":".metadata.labels.cluster.x-k8s.io/cluster-name","name":"Cluster","type":"string"},{"description":"Current state of the Beskar7Machine","jsonPath":".status.phase","name":"State","type":"string"},{"description":"Machine ready status","jsonPath":".status.ready","name":"Ready","type":"string"},{"description":"Provider ID","jsonPath":".spec.providerID","name":"ProviderID","type":"string"},{"description":"Machine object which owns this Beskar7Machine","jsonPath":".metadata.ownerReferences[?(@.kind=='Machine')].name","name":"Machine","type":"string"}],"name":"v1beta1","schema":{"openAPIV3Schema":{"properties":{"apiVersion":{"type":"string"},"kind":{"type":"string"},"metadata":{"type":"object"},"spec":{"properties":{"configURL":{"type":"string"},"imageURL":{"type":"string"},"osFamily":{"enum":["kairos","talos","flatcar","LeapMicro"],"type":"string"},"providerID":{"type":"string"},"provisioningMode":{"enum":["RemoteConfig","PreBakedISO"],"type":"string"}},"required":["imageURL","osFamily"],"type":"object"},"status":{"properties":{"addresses":{"items":{"properties":{"address":{"maxLength":256,"minLength":1,"type":"string"},"type":{"enum":["Hostname","ExternalIP","InternalIP","ExternalDNS","InternalDNS"],"type":"string"}},"required":["address","type"],"type":"object"},"type":"array"},"conditions":{"items":{"properties":{"lastTransitionTime":{"format":"date-time","type":"string"},"message":{"maxLength":10240,"minLength":1,"type":"string"},"reason":{"maxLength":256,"minLength":1,"type":"string"},"severity":{"maxLength":32,"type":"string"},"status":{"type":"string"},"type":{"maxLength":256,"minLength":1,"type":"string"}},"required":["lastTransitionTime","status","type"],"type":"object"},"type":"array"},"failureMessage":{"type":"string"},"failureReason":{"type":"string"},"phase":{"type":"string"},"ready":{"type":"boolean"}},"type":"object"}},"type":"object"}},"served":true,"storage":true,"subresources":{"status":{}}}]}}
    creationTimestamp: "2025-05-27T14:11:10Z"
    generation: 1
    labels:
      cluster.x-k8s.io/contract: v1beta1
      cluster.x-k8s.io/provider: beskar7
    name: beskar7machines.infrastructure.cluster.x-k8s.io
    resourceVersion: "181202"
    uid: b9e07af9-109f-4ebf-88e8-6a007b9d7d0a
  spec:
    conversion:
      strategy: None
    group: infrastructure.cluster.x-k8s.io
    names:
      kind: Beskar7Machine
      listKind: Beskar7MachineList
      plural: beskar7machines
      singular: beskar7machine
    scope: Namespaced
    versions:
    - name: v1beta1
      served: true
      storage: true
      schema:
        openAPIV3Schema:
          type: object
          properties:
            apiVersion:
              type: string
            kind:
              type: string
            metadata:
              type: object
            spec:
              type: object
              properties:
                imageURL:
                  type: string
                configURL:
                  type: string
                osFamily:
                  type: string
                provisioningMode:
                  type: string
                providerID:
                  type: string
            status:
              type: object
              properties:
                ready:
                  type: boolean
                phase:
                  type: string
  status:
    acceptedNames:
      kind: Beskar7Machine
      listKind: Beskar7MachineList
      plural: beskar7machines
      singular: beskar7machine
    conditions:
    - lastTransitionTime: "2025-05-27T14:11:10Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2025-05-27T14:11:10Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1beta1
kind: List
metadata:
  resourceVersion: ""
